import{a as bt,t as Lt}from"./disclose-version.BNO5E3CA.js";import"./legacy.BVZN0Inh.js";import{p as de,s as _e,w as ge,e as ye,t as we,r as me,g as At,V as ve}from"./runtime.CUXqFQnj.js";import{e as xe,i as be}from"./each.Cow71Dm7.js";import{s as Ae}from"./attributes.B3mHJc4L.js";import{i as Ne}from"./lifecycle.G-oaXQvE.js";function Nt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var $e={value:()=>{}};function Vt(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new G(n)}function G(t){this._=t}function ke(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}G.prototype=Vt.prototype={constructor:G,on:function(t,e){var n=this._,r=ke(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ee(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=$t(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$t(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new G(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ee(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $t(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var at="http://www.w3.org/1999/xhtml";const kt={svg:"http://www.w3.org/2000/svg",xhtml:at,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),kt.hasOwnProperty(e)?{space:kt[e],local:t}:t}function Se(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===at&&e.documentElement.namespaceURI===at?e.createElement(t):e.createElementNS(n,t)}}function Te(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yt(t){var e=nt(t);return(e.local?Te:Se)(e)}function Ce(){}function dt(t){return t==null?Ce:function(){return this.querySelector(t)}}function Re(t){typeof t!="function"&&(t=dt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,f=0;f<s;++f)(u=o[f])&&(l=t.call(u,u.__data__,f,o))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new w(r,this._parents)}function Me(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ie(){return[]}function zt(t){return t==null?Ie:function(){return this.querySelectorAll(t)}}function He(t){return function(){return Me(t.apply(this,arguments))}}function Fe(t){typeof t=="function"?t=He(t):t=zt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new w(r,i)}function Bt(t){return function(){return this.matches(t)}}function Ut(t){return function(e){return e.matches(t)}}var qe=Array.prototype.find;function De(t){return function(){return qe.call(this.children,t)}}function Xe(){return this.firstElementChild}function Oe(t){return this.select(t==null?Xe:De(typeof t=="function"?t:Ut(t)))}var Pe=Array.prototype.filter;function Le(){return Array.from(this.children)}function Ve(t){return function(){return Pe.call(this.children,t)}}function Ye(t){return this.selectAll(t==null?Le:Ve(typeof t=="function"?t:Ut(t)))}function ze(t){typeof t!="function"&&(t=Bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new w(r,this._parents)}function Gt(t){return new Array(t.length)}function Be(){return new w(this._enter||this._groups.map(Gt),this._parents)}function Z(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Z.prototype={constructor:Z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ue(t){return function(){return t}}function Ge(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Z(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Ke(t,e,n,r,i,o,s){var a,u,l=new Map,f=e.length,c=o.length,h=new Array(f),p;for(a=0;a<f;++a)(u=e[a])&&(h[a]=p=s.call(u,u.__data__,a,e)+"",l.has(p)?i[a]=u:l.set(p,u));for(a=0;a<c;++a)p=s.call(t,o[a],a,o)+"",(u=l.get(p))?(r[a]=u,u.__data__=o[a],l.delete(p)):n[a]=new Z(t,o[a]);for(a=0;a<f;++a)(u=e[a])&&l.get(h[a])===u&&(i[a]=u)}function We(t){return t.__data__}function Ze(t,e){if(!arguments.length)return Array.from(this,We);var n=e?Ke:Ge,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ue(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],c=i[l],h=c.length,p=Je(t.call(f,f&&f.__data__,l,r)),d=p.length,_=a[l]=new Array(d),$=s[l]=new Array(d),pe=u[l]=new Array(h);n(f,c,_,$,pe,p,e);for(var M=0,Y=0,vt,xt;M<d;++M)if(vt=_[M]){for(M>=Y&&(Y=M+1);!(xt=$[Y])&&++Y<d;);vt._next=xt||null}}return s=new w(s,r),s._enter=a,s._exit=u,s}function Je(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qe(){return new w(this._exit||this._groups.map(Gt),this._parents)}function je(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function tn(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],f=r[u],c=l.length,h=a[u]=new Array(c),p,d=0;d<c;++d)(p=l[d]||f[d])&&(h[d]=p);for(;u<i;++u)a[u]=n[u];return new w(a,this._parents)}function en(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function nn(t){t||(t=rn);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(e)}return new w(i,this._parents).order()}function rn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function on(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sn(){return Array.from(this)}function an(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function un(){let t=0;for(const e of this)++t;return t}function ln(){return!this.node()}function fn(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function cn(t){return function(){this.removeAttribute(t)}}function hn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pn(t,e){return function(){this.setAttribute(t,e)}}function dn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _n(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function gn(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function yn(t,e){var n=nt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?hn:cn:typeof e=="function"?n.local?gn:_n:n.local?dn:pn)(n,e))}function Kt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wn(t){return function(){this.style.removeProperty(t)}}function mn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function vn(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function xn(t,e,n){return arguments.length>1?this.each((e==null?wn:typeof e=="function"?vn:mn)(t,e,n??"")):C(this.node(),t)}function C(t,e){return t.style.getPropertyValue(e)||Kt(t).getComputedStyle(t,null).getPropertyValue(e)}function bn(t){return function(){delete this[t]}}function An(t,e){return function(){this[t]=e}}function Nn(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $n(t,e){return arguments.length>1?this.each((e==null?bn:typeof e=="function"?Nn:An)(t,e)):this.node()[t]}function Wt(t){return t.trim().split(/^|\s+/)}function _t(t){return t.classList||new Zt(t)}function Zt(t){this._node=t,this._names=Wt(t.getAttribute("class")||"")}Zt.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jt(t,e){for(var n=_t(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Qt(t,e){for(var n=_t(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function kn(t){return function(){Jt(this,t)}}function En(t){return function(){Qt(this,t)}}function Sn(t,e){return function(){(e.apply(this,arguments)?Jt:Qt)(this,t)}}function Tn(t,e){var n=Wt(t+"");if(arguments.length<2){for(var r=_t(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Sn:e?kn:En)(n,e))}function Cn(){this.textContent=""}function Rn(t){return function(){this.textContent=t}}function Mn(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function In(t){return arguments.length?this.each(t==null?Cn:(typeof t=="function"?Mn:Rn)(t)):this.node().textContent}function Hn(){this.innerHTML=""}function Fn(t){return function(){this.innerHTML=t}}function qn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Dn(t){return arguments.length?this.each(t==null?Hn:(typeof t=="function"?qn:Fn)(t)):this.node().innerHTML}function Xn(){this.nextSibling&&this.parentNode.appendChild(this)}function On(){return this.each(Xn)}function Pn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ln(){return this.each(Pn)}function Vn(t){var e=typeof t=="function"?t:Yt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Yn(){return null}function zn(t,e){var n=typeof t=="function"?t:Yt(t),r=e==null?Yn:typeof e=="function"?e:dt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bn(){var t=this.parentNode;t&&t.removeChild(this)}function Un(){return this.each(Bn)}function Gn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wn(t){return this.select(t?Kn:Gn)}function Zn(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Jn(t){return function(e){t.call(this,e,this.__data__)}}function Qn(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function jn(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function tr(t,e,n){return function(){var r=this.__on,i,o=Jn(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function er(t,e,n){var r=Qn(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=e?tr:jn,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function jt(t,e,n){var r=Kt(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nr(t,e){return function(){return jt(this,t,e)}}function rr(t,e){return function(){return jt(this,t,e.apply(this,arguments))}}function ir(t,e){return this.each((typeof e=="function"?rr:nr)(t,e))}function*or(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var sr=[null];function w(t,e){this._groups=t,this._parents=e}function L(){return new w([[document.documentElement]],sr)}function ar(){return this}w.prototype=L.prototype={constructor:w,select:Re,selectAll:Fe,selectChild:Oe,selectChildren:Ye,filter:ze,data:Ze,enter:Be,exit:Qe,join:je,merge:tn,selection:ar,order:en,sort:nn,call:on,nodes:sn,node:an,size:un,empty:ln,each:fn,attr:yn,style:xn,property:$n,classed:Tn,text:In,html:Dn,raise:On,lower:Ln,append:Vn,insert:zn,remove:Un,clone:Wn,datum:Zn,on:er,dispatch:ir,[Symbol.iterator]:or};function gt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function te(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function V(){}var D=.7,J=1/D,T="\\s*([+-]?\\d+)\\s*",X="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ur=/^#([0-9a-f]{3,8})$/,lr=new RegExp(`^rgb\\(${T},${T},${T}\\)$`),fr=new RegExp(`^rgb\\(${v},${v},${v}\\)$`),cr=new RegExp(`^rgba\\(${T},${T},${T},${X}\\)$`),hr=new RegExp(`^rgba\\(${v},${v},${v},${X}\\)$`),pr=new RegExp(`^hsl\\(${X},${v},${v}\\)$`),dr=new RegExp(`^hsla\\(${X},${v},${v},${X}\\)$`),Et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gt(V,O,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:St,formatHex:St,formatHex8:_r,formatHsl:gr,formatRgb:Tt,toString:Tt});function St(){return this.rgb().formatHex()}function _r(){return this.rgb().formatHex8()}function gr(){return ee(this).formatHsl()}function Tt(){return this.rgb().formatRgb()}function O(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ur.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ct(e):n===3?new g(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?z(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?z(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lr.exec(t))?new g(e[1],e[2],e[3],1):(e=fr.exec(t))?new g(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cr.exec(t))?z(e[1],e[2],e[3],e[4]):(e=hr.exec(t))?z(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pr.exec(t))?It(e[1],e[2]/100,e[3]/100,1):(e=dr.exec(t))?It(e[1],e[2]/100,e[3]/100,e[4]):Et.hasOwnProperty(t)?Ct(Et[t]):t==="transparent"?new g(NaN,NaN,NaN,0):null}function Ct(t){return new g(t>>16&255,t>>8&255,t&255,1)}function z(t,e,n,r){return r<=0&&(t=e=n=NaN),new g(t,e,n,r)}function yr(t){return t instanceof V||(t=O(t)),t?(t=t.rgb(),new g(t.r,t.g,t.b,t.opacity)):new g}function ut(t,e,n,r){return arguments.length===1?yr(t):new g(t,e,n,r??1)}function g(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gt(g,ut,te(V,{brighter(t){return t=t==null?J:Math.pow(J,t),new g(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?D:Math.pow(D,t),new g(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new g(E(this.r),E(this.g),E(this.b),Q(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rt,formatHex:Rt,formatHex8:wr,formatRgb:Mt,toString:Mt}));function Rt(){return`#${k(this.r)}${k(this.g)}${k(this.b)}`}function wr(){return`#${k(this.r)}${k(this.g)}${k(this.b)}${k((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mt(){const t=Q(this.opacity);return`${t===1?"rgb(":"rgba("}${E(this.r)}, ${E(this.g)}, ${E(this.b)}${t===1?")":`, ${t})`}`}function Q(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function E(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function k(t){return t=E(t),(t<16?"0":"")+t.toString(16)}function It(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new y(t,e,n,r)}function ee(t){if(t instanceof y)return new y(t.h,t.s,t.l,t.opacity);if(t instanceof V||(t=O(t)),!t)return new y;if(t instanceof y)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new y(s,a,u,t.opacity)}function mr(t,e,n,r){return arguments.length===1?ee(t):new y(t,e,n,r??1)}function y(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gt(y,mr,te(V,{brighter(t){return t=t==null?J:Math.pow(J,t),new y(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?D:Math.pow(D,t),new y(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new g(ot(t>=240?t-240:t+120,i,r),ot(t,i,r),ot(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new y(Ht(this.h),B(this.s),B(this.l),Q(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Q(this.opacity);return`${t===1?"hsl(":"hsla("}${Ht(this.h)}, ${B(this.s)*100}%, ${B(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ht(t){return t=(t||0)%360,t<0?t+360:t}function B(t){return Math.max(0,Math.min(1,t||0))}function ot(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ne=t=>()=>t;function vr(t,e){return function(n){return t+n*e}}function xr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function br(t){return(t=+t)==1?re:function(e,n){return n-e?xr(e,n,t):ne(isNaN(e)?n:e)}}function re(t,e){var n=e-t;return n?vr(t,n):ne(isNaN(t)?e:t)}const Ft=function t(e){var n=br(e);function r(i,o){var s=n((i=ut(i)).r,(o=ut(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=re(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return r.gamma=t,r}(1);function N(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,st=new RegExp(lt.source,"g");function Ar(t){return function(){return t}}function Nr(t){return function(e){return t(e)+""}}function $r(t,e){var n=lt.lastIndex=st.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=lt.exec(t))&&(i=st.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:N(r,i)})),n=st.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Nr(u[0].x):Ar(e):(e=u.length,function(l){for(var f=0,c;f<e;++f)a[(c=u[f]).i]=c.x(l);return a.join("")})}var qt=180/Math.PI,ft={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ie(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*qt,skewX:Math.atan(u)*qt,scaleX:s,scaleY:a}}var U;function kr(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ft:ie(e.a,e.b,e.c,e.d,e.e,e.f)}function Er(t){return t==null||(U||(U=document.createElementNS("http://www.w3.org/2000/svg","g")),U.setAttribute("transform",t),!(t=U.transform.baseVal.consolidate()))?ft:(t=t.matrix,ie(t.a,t.b,t.c,t.d,t.e,t.f))}function oe(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,f,c,h,p,d){if(l!==c||f!==h){var _=p.push("translate(",null,e,null,n);d.push({i:_-4,x:N(l,c)},{i:_-2,x:N(f,h)})}else(c||h)&&p.push("translate("+c+e+h+n)}function s(l,f,c,h){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:N(l,f)})):f&&c.push(i(c)+"rotate("+f+r)}function a(l,f,c,h){l!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:N(l,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(l,f,c,h,p,d){if(l!==c||f!==h){var _=p.push(i(p)+"scale(",null,",",null,")");d.push({i:_-4,x:N(l,c)},{i:_-2,x:N(f,h)})}else(c!==1||h!==1)&&p.push(i(p)+"scale("+c+","+h+")")}return function(l,f){var c=[],h=[];return l=t(l),f=t(f),o(l.translateX,l.translateY,f.translateX,f.translateY,c,h),s(l.rotate,f.rotate,c,h),a(l.skewX,f.skewX,c,h),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,h),l=f=null,function(p){for(var d=-1,_=h.length,$;++d<_;)c[($=h[d]).i]=$.x(p);return c.join("")}}}var Sr=oe(kr,"px, ","px)","deg)"),Tr=oe(Er,", ",")",")"),R=0,H=0,I=0,se=1e3,j,F,tt=0,S=0,rt=0,P=typeof performance=="object"&&performance.now?performance:Date,ae=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function yt(){return S||(ae(Cr),S=P.now()+rt)}function Cr(){S=0}function et(){this._call=this._time=this._next=null}et.prototype=ue.prototype={constructor:et,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?yt():+n)+(e==null?0:+e),!this._next&&F!==this&&(F?F._next=this:j=this,F=this),this._call=t,this._time=n,ct()},stop:function(){this._call&&(this._call=null,this._time=1/0,ct())}};function ue(t,e,n){var r=new et;return r.restart(t,e,n),r}function Rr(){yt(),++R;for(var t=j,e;t;)(e=S-t._time)>=0&&t._call.call(void 0,e),t=t._next;--R}function Dt(){S=(tt=P.now())+rt,R=H=0;try{Rr()}finally{R=0,Ir(),S=0}}function Mr(){var t=P.now(),e=t-tt;e>se&&(rt-=e,tt=t)}function Ir(){for(var t,e=j,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:j=n);F=t,ct(r)}function ct(t){if(!R){H&&(H=clearTimeout(H));var e=t-S;e>24?(t<1/0&&(H=setTimeout(Dt,t-P.now()-rt)),I&&(I=clearInterval(I))):(I||(tt=P.now(),I=setInterval(Mr,se)),R=1,ae(Dt))}}function Xt(t,e,n){var r=new et;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Hr=Vt("start","end","cancel","interrupt"),Fr=[],le=0,Ot=1,ht=2,K=3,Pt=4,pt=5,W=6;function it(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;qr(t,n,{name:e,index:r,group:i,on:Hr,tween:Fr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:le})}function wt(t,e){var n=m(t,e);if(n.state>le)throw new Error("too late; already scheduled");return n}function x(t,e){var n=m(t,e);if(n.state>K)throw new Error("too late; already running");return n}function m(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function qr(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ue(o,0,n.time);function o(l){n.state=Ot,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,c,h,p;if(n.state!==Ot)return u();for(f in r)if(p=r[f],p.name===n.name){if(p.state===K)return Xt(s);p.state===Pt?(p.state=W,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[f]):+f<e&&(p.state=W,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[f])}if(Xt(function(){n.state===K&&(n.state=Pt,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ht,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ht){for(n.state=K,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=pt,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);n.state===pt&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=W,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Dr(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>ht&&r.state<pt,r.state=W,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Xr(t){return this.each(function(){Dr(this,t)})}function Or(t,e){var n,r;return function(){var i=x(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Pr(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=x(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function Lr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=m(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Or:Pr)(n,t,e))}function mt(t,e,n){var r=t._id;return t.each(function(){var i=x(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return m(i,r).value[e]}}function fe(t,e){var n;return(typeof e=="number"?N:e instanceof O?Ft:(n=O(e))?(e=n,Ft):$r)(t,e)}function Vr(t){return function(){this.removeAttribute(t)}}function Yr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zr(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Br(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Ur(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Gr(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Kr(t,e){var n=nt(t),r=n==="transform"?Tr:fe;return this.attrTween(t,typeof e=="function"?(n.local?Gr:Ur)(n,r,mt(this,"attr."+t,e)):e==null?(n.local?Yr:Vr)(n):(n.local?Br:zr)(n,r,e))}function Wr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Zr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Jr(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Zr(t,o)),n}return i._value=e,i}function Qr(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wr(t,o)),n}return i._value=e,i}function jr(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=nt(t);return this.tween(n,(r.local?Jr:Qr)(r,e))}function ti(t,e){return function(){wt(this,t).delay=+e.apply(this,arguments)}}function ei(t,e){return e=+e,function(){wt(this,t).delay=e}}function ni(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ti:ei)(e,t)):m(this.node(),e).delay}function ri(t,e){return function(){x(this,t).duration=+e.apply(this,arguments)}}function ii(t,e){return e=+e,function(){x(this,t).duration=e}}function oi(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ri:ii)(e,t)):m(this.node(),e).duration}function si(t,e){if(typeof e!="function")throw new Error;return function(){x(this,t).ease=e}}function ai(t){var e=this._id;return arguments.length?this.each(si(e,t)):m(this.node(),e).ease}function ui(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;x(this,t).ease=n}}function li(t){if(typeof t!="function")throw new Error;return this.each(ui(this._id,t))}function fi(t){typeof t!="function"&&(t=Bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new A(r,this._parents,this._name,this._id)}function ci(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],f=u.length,c=s[a]=new Array(f),h,p=0;p<f;++p)(h=u[p]||l[p])&&(c[p]=h);for(;a<r;++a)s[a]=e[a];return new A(s,this._parents,this._name,this._id)}function hi(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function pi(t,e,n){var r,i,o=hi(e)?wt:x;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function di(t,e){var n=this._id;return arguments.length<2?m(this.node(),n).on.on(t):this.each(pi(n,t,e))}function _i(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function gi(){return this.on("end.remove",_i(this._id))}function yi(t){var e=this._name,n=this._id;typeof t!="function"&&(t=dt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),f,c,h=0;h<u;++h)(f=a[h])&&(c=t.call(f,f.__data__,h,a))&&("__data__"in f&&(c.__data__=f.__data__),l[h]=c,it(l[h],e,n,h,l,m(f,n)));return new A(o,this._parents,e,n)}function wi(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zt(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var h=t.call(f,f.__data__,c,u),p,d=m(f,n),_=0,$=h.length;_<$;++_)(p=h[_])&&it(p,e,n,_,h,d);o.push(h),s.push(f)}return new A(o,s,e,n)}var mi=L.prototype.constructor;function vi(){return new mi(this._groups,this._parents)}function xi(t,e){var n,r,i;return function(){var o=C(this,t),s=(this.style.removeProperty(t),C(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function ce(t){return function(){this.style.removeProperty(t)}}function bi(t,e,n){var r,i=n+"",o;return function(){var s=C(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ai(t,e,n){var r,i,o;return function(){var s=C(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),C(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function Ni(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=x(this,t),l=u.on,f=u.value[o]==null?a||(a=ce(e)):void 0;(l!==n||i!==f)&&(r=(n=l).copy()).on(s,i=f),u.on=r}}function $i(t,e,n){var r=(t+="")=="transform"?Sr:fe;return e==null?this.styleTween(t,xi(t,r)).on("end.style."+t,ce(t)):typeof e=="function"?this.styleTween(t,Ai(t,r,mt(this,"style."+t,e))).each(Ni(this._id,t)):this.styleTween(t,bi(t,r,e),n).on("end.style."+t,null)}function ki(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ei(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&ki(t,s,n)),r}return o._value=e,o}function Si(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ei(t,e,n??""))}function Ti(t){return function(){this.textContent=t}}function Ci(t){return function(){var e=t(this);this.textContent=e??""}}function Ri(t){return this.tween("text",typeof t=="function"?Ci(mt(this,"text",t)):Ti(t==null?"":t+""))}function Mi(t){return function(e){this.textContent=t.call(this,e)}}function Ii(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Mi(i)),e}return r._value=t,r}function Hi(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ii(t))}function Fi(){for(var t=this._name,e=this._id,n=he(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=m(u,e);it(u,t,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new A(r,this._parents,t,n)}function qi(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=x(this,r),f=l.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var Di=0;function A(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function he(){return++Di}var b=L.prototype;A.prototype={constructor:A,select:yi,selectAll:wi,selectChild:b.selectChild,selectChildren:b.selectChildren,filter:fi,merge:ci,selection:vi,transition:Fi,call:b.call,nodes:b.nodes,node:b.node,size:b.size,empty:b.empty,each:b.each,on:di,attr:Kr,attrTween:jr,style:$i,styleTween:Si,text:Ri,textTween:Hi,remove:gi,tween:Lr,delay:ni,duration:oi,ease:ai,easeVarying:li,end:qi,[Symbol.iterator]:b[Symbol.iterator]};function Xi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Oi={time:null,delay:0,duration:250,ease:Xi};function Pi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Li(t){var e,n;t instanceof A?(e=t._id,t=t._name):(e=he(),(n=Oi).time=yt(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&it(u,t,e,l,s,n||Pi(u,e));return new A(r,this._parents,t,e)}L.prototype.interrupt=Xr;L.prototype.transition=Li;function q(t,e,n){this.k=t,this.x=e,this.y=n}q.prototype={constructor:q,scale:function(t){return t===1?this:new q(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new q(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};q.prototype;const Zi={layout:"post",title:"Hog Dice",date:"2016-07-24T00:00:00.000Z"};var Vi=Lt('<div class="relative bg-gray-500 bg-opacity-20"></div>'),Yi=Lt('<p>I’m giving a presentation at <a href="http://observer.com/2015/08/artsys-wet-hot-american-summer/" rel="nofollow">Artsy’s offsite</a> on Analytics at Artsy, and I wanted an accessible and relevant ice breaker. I decided to go with the <a href="http://www.amstat.org/publications/jse/v11n2/feldman.html" rel="nofollow">HOG Dice Game</a> to try to get at how data analytics can be useful for solving real world problems. The game is simple:</p> <ol><li>Players take turns rolling dice. Each player may choose any number of dice from one up to the total number of dice available. (We recommend that at least ten dice be available for each player or team.)</li> <li>The number of dice a player chooses to roll can vary from turn to turn.</li> <li>The player’s score for a turn is zero if at least one of the dice comes up with the value one. Otherwise, the player’s score for the turn is the sum of the faces showing on the dice. (Rolling a one sets only the score for that turn to zero, not the total cumulative score for the player.)</li> <li>A cumulative running total of the scores is kept for each player.</li> <li>The first player to reach or exceed a predetermined score (100 works well) wins the game. If more than one player reaches the predetermined score on the same turn then the player with the highest point total wins the game.</li></ol> <p>To help explain the optimal results, I’ve made a small visualization of the theoretical vs experimental best choice for how many dice to roll. The below chart shows the analytical solution (orange) alongside the average return from a dice throw simulation. The experimental converges to the theoretical, but not as quickly as you might think.</p> <p>Here’s the expected value for each number of dice a player can choose:</p> <div class="flex gap-1 items-end my-8"></div>',1);function Ji(t,e){de(e,!1);let n=40;Nt(n);function r(s){return Math.pow(5/6,s)*s*4}Ne();var i=Yi(),o=_e(ge(i),8);xe(o,5,()=>Nt(n),be,(s,a)=>{var u=Vi();const l=ve(()=>`height: ${r(At(a))??""}rem; width: 1rem;`);we(()=>Ae(u,"style",At(l))),bt(s,u)}),me(o),bt(t,i),ye()}export{Ji as default,Zi as metadata};
