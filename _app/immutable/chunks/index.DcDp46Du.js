import{E as L,ay as q,az as I,i as M,u as $,_ as R,aA as j,q as x,n as m,aB as z,aC as S,Q as g,am as G}from"./runtime.bkAFKJgj.js";import{l as K}from"./loop.BGGTUj09.js";import{a as P}from"./render.VnJAW1R7.js";function C(r,a){r.dispatchEvent(new CustomEvent(a))}function Q(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function w(r){const a={},i=r.split(";");for(const t of i){const[f,c]=t.split(":");if(!f||c===void 0)break;const n=Q(f.trim());a[n]=c.trim()}return a}const U=r=>r;function V(r,a,i,t){var f=(r&z)!==0,c="both",n,y=a.inert,v,u;function s(){var e=G,_=R;S(null),g(null);try{return n??(n=i()(a,(t==null?void 0:t())??{},{direction:c}))}finally{S(e),g(_)}}var h={is_global:f,in(){a.inert=y,C(a,"introstart"),v=b(a,s(),u,1,()=>{C(a,"introend"),v==null||v.abort(),v=n=void 0})},out(e){a.inert=!0,C(a,"outrostart"),u=b(a,s(),v,0,()=>{C(a,"outroend"),e==null||e()})},stop:()=>{v==null||v.abort(),u==null||u.abort()}},d=R;if((d.transitions??(d.transitions=[])).push(h),P){var l=f;if(!l){for(var o=d.parent;o&&o.f&L;)for(;(o=o.parent)&&!(o.f&q););l=!o||(o.f&I)!==0}l&&M(()=>{$(()=>h.in())})}}function b(r,a,i,t,f){var c=t===1;if(j(a)){var n,y=!1;return x(()=>{if(!y){var _=a({direction:c?"in":"out"});n=b(r,_,i,t,f)}}),{abort:()=>{y=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return f(),{abort:m,deactivate:m,reset:m,t:()=>t};const{delay:v=0,css:u,tick:s,easing:h=U}=a;var d=[];if(c&&i===void 0&&(s&&s(0,1),u)){var l=w(u(0,1));d.push(l,l)}var o=()=>1-t,e=r.animate(d,{duration:v});return e.onfinish=()=>{var _=(i==null?void 0:i.t())??1-t;i==null||i.abort();var T=t-_,E=a.duration*Math.abs(T),A=[];if(E>0){if(u)for(var N=Math.ceil(E/16.666666666666668),F=0;F<=N;F+=1){var O=_+T*h(F/N),B=u(O,1-O);A.push(w(B))}o=()=>{var p=e.currentTime;return _+T*h(p/E)},s&&K(()=>{if(e.playState!=="running")return!1;var p=o();return s(p,1-p),!0})}e=r.animate(A,{duration:E,fill:"forwards"}),e.onfinish=()=>{o=()=>t,s==null||s(t,1-t),f()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=m)},deactivate:()=>{f=m},reset:()=>{t===0&&(s==null||s(1,0))},t:()=>o()}}const W=r=>r;function X(r,{delay:a=0,duration:i=400,easing:t=W}={}){const f=+getComputedStyle(r).opacity;return{delay:a,duration:i,easing:t,css:c=>`opacity: ${c*f}`}}export{X as f,V as t};
