import{E as L,az as q,aA as I,i as M,u as $,a0 as R,aB as j,q as x,n as E,aC as z,aD as S,T as g,an as D}from"./runtime.Bx1PZc6z.js";import{l as G}from"./loop.BGGTUj09.js";import{a as K}from"./render.Cwa2x4Na.js";function T(r,a){r.dispatchEvent(new CustomEvent(a))}function P(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function w(r){const a={},i=r.split(";");for(const t of i){const[f,c]=t.split(":");if(!f||c===void 0)break;const n=P(f.trim());a[n]=c.trim()}return a}const U=r=>r;function V(r,a,i,t){var f=(r&z)!==0,c="both",n,m=a.inert,v,u;function s(){var e=D,_=R;S(null),g(null);try{return n??(n=i()(a,(t==null?void 0:t())??{},{direction:c}))}finally{S(e),g(_)}}var h={is_global:f,in(){a.inert=m,T(a,"introstart"),v=b(a,s(),u,1,()=>{T(a,"introend"),v==null||v.abort(),v=n=void 0})},out(e){a.inert=!0,T(a,"outrostart"),u=b(a,s(),v,0,()=>{T(a,"outroend"),e==null||e()})},stop:()=>{v==null||v.abort(),u==null||u.abort()}},d=R;if((d.transitions??(d.transitions=[])).push(h),K){var l=f;if(!l){for(var o=d.parent;o&&o.f&L;)for(;(o=o.parent)&&!(o.f&q););l=!o||(o.f&I)!==0}l&&M(()=>{$(()=>h.in())})}}function b(r,a,i,t,f){var c=t===1;if(j(a)){var n,m=!1;return x(()=>{if(!m){var _=a({direction:c?"in":"out"});n=b(r,_,i,t,f)}}),{abort:()=>{m=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return f(),{abort:E,deactivate:E,reset:E,t:()=>t};const{delay:v=0,css:u,tick:s,easing:h=U}=a;var d=[];if(c&&i===void 0&&(s&&s(0,1),u)){var l=w(u(0,1));d.push(l,l)}var o=()=>1-t,e=r.animate(d,{duration:v});return e.onfinish=()=>{var _=(i==null?void 0:i.t())??1-t;i==null||i.abort();var C=t-_,p=a.duration*Math.abs(C),A=[];if(p>0){if(u)for(var N=Math.ceil(p/16.666666666666668),F=0;F<=N;F+=1){var O=_+C*h(F/N),B=u(O,1-O);A.push(w(B))}o=()=>{var y=e.currentTime;return _+C*h(y/p)},s&&G(()=>{if(e.playState!=="running")return!1;var y=o();return s(y,1-y),!0})}e=r.animate(A,{duration:p,fill:"forwards"}),e.onfinish=()=>{o=()=>t,s==null||s(t,1-t),f()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=E)},deactivate:()=>{f=E},reset:()=>{t===0&&(s==null||s(1,0))},t:()=>o()}}const W=r=>r;function X(r,{delay:a=0,duration:i=400,easing:t=W}={}){const f=+getComputedStyle(r).opacity;return{delay:a,duration:i,easing:t,css:c=>`opacity: ${c*f}`}}export{X as f,V as t};
