import{j as F,k as L,l as q,P as N,m as x,g as l,n as y,u as A,B as U,R as Y,o as D,v as z,w as M,x as $,y as T,z as j,A as G,C as H,D as V,E as g,F as Z}from"./runtime.DIHy09Nm.js";import{p as J}from"./proxy.N5gkqYpK.js";import{c as K}from"./store.Dq4wLp-r.js";function w(a){for(var r=g,n=g;r!==null&&!(r.f&(U|Y));)r=r.parent;try{return D(r),a()}finally{D(n)}}function k(a,r,n,d){var h;var R=(n&z)!==0,c=(n&M)!==0,S=(n&$)!==0,B=(n&Z)!==0,I=!1,u;S?[u,I]=K(()=>a[r]):u=a[r];var s=(h=F(a,r))==null?void 0:h.set,t=d,o=!0,E=!1,p=()=>(E=!0,o&&(o=!1,B?t=A(d):t=d),t);u===void 0&&d!==void 0&&(s&&c&&L(),u=p(),s&&s(u));var i;if(c)i=()=>{var e=a[r];return e===void 0?p():(o=!0,E=!1,e)};else{var O=w(()=>(R?T:j)(()=>a[r]));O.f|=q,i=()=>{var e=l(O);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&N))return i;if(s){var C=a.$$legacy;return function(e,f){return arguments.length>0?((!c||!f||C||I)&&s(f?i():e),e):i()}}var P=!1,b=!1,m=G(u),_=w(()=>T(()=>{var e=i(),f=l(m),v=H;return P||e===void 0&&v.f&V?(P=!1,b=!0,f):(b=!1,m.v=e)}));return R||(_.equals=x),function(e,f){if(arguments.length>0){const v=f?l(_):c&&S?J(e):e;return _.equals(v)||(P=!0,y(m,v),E&&t!==void 0&&(t=v),A(()=>l(_))),e}return l(_)}}export{k as p};
