import{n as i,u as b,an as f,N as o,g as a,j as l}from"./runtime.DhOOXZ0r.js";function d(u,s,e){if(u==null)return s(void 0),i;const n=b(()=>u.subscribe(s,e));return n.unsubscribe?()=>n.unsubscribe():n}let r=!1;function p(u,s,e){const n=e[s]??(e[s]={store:null,source:o(void 0),unsubscribe:i});if(n.store!==u)if(n.unsubscribe(),n.store=u??null,u==null)n.source.v=void 0,n.unsubscribe=i;else{var t=!0;n.unsubscribe=d(u,c=>{t?n.source.v=c:l(n.source,c)}),t=!1}return a(n.source)}function _(){const u={};return f(()=>{for(var s in u)u[s].unsubscribe()}),u}function v(u){var s=r;try{return r=!1,[u(),r]}finally{r=s}}export{p as a,v as c,_ as s};
