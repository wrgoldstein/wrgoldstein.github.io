<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.C0wJ92_3.css" rel="stylesheet">
		<link href="../_app/immutable/assets/5.rAKUehJT.css" rel="stylesheet">
		<link href="../_app/immutable/assets/farkle.BopMSokE.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.C3iwM1yK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/entry.DrgBe3r9.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/runtime.R5fxAIps.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control.CYgJF_JY.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.BS8pwBLb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.C1FmrZbK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/render.qmXpnk9A.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/misc.B9QI8j-U.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/disclose-version.MmzF91-3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/if.Ct1Hr-8x.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/proxy.DEFagQfX.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/this.BBm9QjbJ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/props.DN_QZzxb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/store.B-QSlF57.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.Bq7J9JoS.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/snippet.C2M1gwpN.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.B84wgvfL.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/5.g_Ea2hOI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/attributes.B3VIASOE.js"><!--[--><meta data-key="description" name="description"> <meta property="og:type" content="article"> <meta property="og:title" content="Debugging tricks"> <meta name="twitter:title" content="Debugging tricks"> <meta property="og:description"> <meta name="twitter:description"> <meta property="og:image:width"> <meta property="og:image:height"><!--]--><title>Debugging tricks</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><!--[--><!----><!----><article class="tracking-wide prose mx-auto mt-16 prose-a:text-twirl prose-pre:border prose-pre:border-neutral-700 prose-img:rounded-xl prose-figcaption:lg:-ml-[5ch] prose-figcaption:lg:max-w-[75ch] prose-img:lg:-ml-[5ch] prose-img:lg:max-w-[90ch] px-8 lg:max-w-[85ch] mb-16 svelte-mpovti"><a href="/blog" class="text-gray-500 hover:text-gray-700">← Back</a> <img class="cover-image" alt="" style="aspect-ratio:  / ;"> <div class="flex gap-2 text-sm">March 19, 2021</div> <h1 class="text-5xl font-[400] text-purple mt-6 mb-12">Debugging tricks</h1> <p>I’m working through understanding some complicated code (<a href="https://github.com/fishtown-analytics/dbt" rel="nofollow">https://github.com/fishtown-analytics/dbt</a>) and it has a ton of indirection, and sometimes I can’t tell what code calls what! Here are some neat tricks for making progress:</p> <h2>Pip install your own version</h2> <p>I git cloned the repo and <code>pip install -e path/to/my/version</code> into the same virtual env where I’d otherwise run the production version. Now I can patch it, run the install command again, and run my version with other code.</p> <h2>Get the call stack</h2> <p>In conjunction with the above, if I want to know how a function gets called, I can print the call stack from within the function:</p> <!----><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#81A1C1">def</span><span style="color:#88C0D0"> complicated_indirection</span><span style="color:#ECEFF4">():</span></span>
<span class="line"><span style="color:#D8DEE9FF">    ...</span></span>
<span class="line"><span style="color:#81A1C1">    import</span><span style="color:#D8DEE9FF"> inspect</span></span>
<span class="line"><span style="color:#D8DEE9FF">    curframe </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> inspect</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">currentframe</span><span style="color:#ECEFF4">()</span></span>
<span class="line"><span style="color:#D8DEE9FF">    calframe </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> inspect</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">getouterframes</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">curframe</span><span style="color:#ECEFF4">,</span><span style="color:#B48EAD"> 2</span><span style="color:#ECEFF4">)</span></span>
<span class="line"><span style="color:#81A1C1">    for</span><span style="color:#D8DEE9FF"> f </span><span style="color:#81A1C1">in</span><span style="color:#D8DEE9FF"> calframe</span><span style="color:#ECEFF4">:</span></span>
<span class="line"><span style="color:#88C0D0">        print</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">f</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9FF">filename</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> f</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9FF">lineno</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> f</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9FF">function</span><span style="color:#ECEFF4">)</span></span>
<span class="line"><span style="color:#D8DEE9FF">    ...</span></span></code></pre><!----><!----> <div><a href="/blog" class="text-gray-500 hover:text-gray-700">← Back</a></div></article><!----><!----><!----><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1yutp6h = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("../_app/immutable/entry/start.C3iwM1yK.js"),
						import("../_app/immutable/entry/app.BS8pwBLb.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
